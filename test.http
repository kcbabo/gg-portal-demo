# Change localhost:31080 to your app url and port

POST http://localhost:31080/v1/api-keys
Content-Type: application/json
Cookie: id_token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2RGNpZFFNb3ZmbG8xbllHbFRVY2I3emhLTzhaMmlIRU81MHR3ZEZCa29RIn0.eyJleHAiOjE2ODA1NDE4NDQsImlhdCI6MTY4MDU0MTc4NCwiYXV0aF90aW1lIjoxNjgwNTQxNzg0LCJqdGkiOiJkMWZlNjA4YS1hYTc4LTQ5OTAtYThjMy02MjQ1MjJlMjIzZDYiLCJpc3MiOiJodHRwczovLzdkM2MtMjA1LTE1NC0yNTUtMTQwLm5ncm9rLmlvL2F1dGgvcmVhbG1zL21hc3RlciIsImF1ZCI6ImI1Zjk4OTYzLWQ2N2MtNDJjZi1hZjU4LThhMzgzNDkyOWQ5MiIsInN1YiI6ImZiY2I3MDJmLTBlYzAtNGI1MC1hMjNlLTIwZTAzOWVjZTdhNCIsInR5cCI6IklEIiwiYXpwIjoiYjVmOTg5NjMtZDY3Yy00MmNmLWFmNTgtOGEzODM0OTI5ZDkyIiwic2Vzc2lvbl9zdGF0ZSI6ImMwMjc5MGY5LTFiMzAtNGY3NC1iNGFlLWIwMDViYTgyNDU1MyIsImF0X2hhc2giOiJoR0JuSTJTanlaUzVyMUw2Q3RpZDJnIiwiYWNyIjoiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjEiLCJlbWFpbCI6InVzZXIxQGV4YW1wbGUuY29tIiwiZ3JvdXAiOiJ1c2VycyJ9.XSxXRk50bz1piG49wq3AzfXyy8YGGBlCXOqf03vCNB_Pg2ZY8xGWjYJDXy17w79zyrpAzRBG7CtyHwI7pHrFZVriM4qQBFHJRh88UzFeMgY0O_GLxaOPQr9q-L2lKGJvi-Iozo97WOBmAOptPUsR4VqEsfvf5LAcwGCklnJRWP7HoGRap_hvxHrxC1nRZz-QL2855Y-JnFjGkAH4jL1vv31mmcud4fKUHFNX4MexFKaG-Oykcscup0S599zYUiUP00CCamkI2DYdYHWtay96HPzzQ81zwnTfx1tTLNlm_N22lm8QFgSoZCjepccv8Cdee4-FRpD_IswPmefWyzLgrQ; access_token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2RGNpZFFNb3ZmbG8xbllHbFRVY2I3emhLTzhaMmlIRU81MHR3ZEZCa29RIn0.eyJleHAiOjE2ODA1NDE4NDQsImlhdCI6MTY4MDU0MTc4NCwiYXV0aF90aW1lIjoxNjgwNTQxNzg0LCJqdGkiOiJlNDAyOWMwNy1jNjgxLTRlNjctYmE1ZC1iYmQwYzY4MjlmNTAiLCJpc3MiOiJodHRwczovLzdkM2MtMjA1LTE1NC0yNTUtMTQwLm5ncm9rLmlvL2F1dGgvcmVhbG1zL21hc3RlciIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJmYmNiNzAyZi0wZWMwLTRiNTAtYTIzZS0yMGUwMzllY2U3YTQiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJiNWY5ODk2My1kNjdjLTQyY2YtYWY1OC04YTM4MzQ5MjlkOTIiLCJzZXNzaW9uX3N0YXRlIjoiYzAyNzkwZjktMWIzMC00Zjc0LWI0YWUtYjAwNWJhODI0NTUzIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjEiLCJlbWFpbCI6InVzZXIxQGV4YW1wbGUuY29tIiwiZ3JvdXAiOiJ1c2VycyJ9.HV5TEA1PxP9MyvmvdnB2yX8vA0pRPr1Raf1y5Y5KuDdkCmPocq9-fAZzEnuwtRcwzeDE2WQUUf4D1domd_GTgYhrTDneVfp2z0uSNHIf5PVypwi19-btbxIsXY7cSmqOUYEtRHp4db1ner2Ycar0cowAvUxu2kciGXmXeMZA67jcnuwbqBcfkvsZMRIPTTpmnoOCefJnzzIgqm3Im7XB-uOmph1wWgZ7Bgp_tLjjjv0OUAwA15fGDSjK25sF5jX5AMgjyCOnIewopKmyu_YK_W4m0r2J5IAKHgSmAlOaAp4mkUv1vJYWhYF7qV6yW52kP1fggu7el_Qeqq_OD02i6w; refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjNzI2MWRiMy1mNmNlLTRhZWMtYmUzZC03ZmRlOWZmMjg0MDIifQ.eyJleHAiOjE2ODA1NDM1ODQsImlhdCI6MTY4MDU0MTc4NCwianRpIjoiODVkYmJmMzctYjNjMi00ODQ0LWJhNDMtNjA3MWEwM2QzMDIwIiwiaXNzIjoiaHR0cHM6Ly83ZDNjLTIwNS0xNTQtMjU1LTE0MC5uZ3Jvay5pby9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJodHRwczovLzdkM2MtMjA1LTE1NC0yNTUtMTQwLm5ncm9rLmlvL2F1dGgvcmVhbG1zL21hc3RlciIsInN1YiI6ImZiY2I3MDJmLTBlYzAtNGI1MC1hMjNlLTIwZTAzOWVjZTdhNCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJiNWY5ODk2My1kNjdjLTQyY2YtYWY1OC04YTM4MzQ5MjlkOTIiLCJzZXNzaW9uX3N0YXRlIjoiYzAyNzkwZjktMWIzMC00Zjc0LWI0YWUtYjAwNWJhODI0NTUzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSJ9.Zj8YI3wt39oxHA36EpThcx8_MSS9PU48LwUpN-q1das; target_domain=localhost:31080

{
  "usagePlan": "bronze",
  "apiKeyName": "api-key-name-1"
}

###

POST http://localhost:31080/v1/api-keys
Content-Type: application/json

{
  "apiId": "cool-api",
  "usagePlan": "free-plan"
}

###

POST http://localhost:8080/v1/api-keys
Content-Type: application/json

{
  "apiId": "uncool-api",
  "usagePlan": "free-plan"
}

### this one should fail as there is no body specified
POST http://localhost:8080/v1/api-keys
Content-Type: application/json

{}

###
DELETE http://localhost:31080/v1/api-keys/4e352e5d-e2e9-4232-8356-44a26ba60fb0

###

GET http://localhost:31080/v1/api-keys?usagePlans=bronze
Content-Type: application/json
Cookie: id_token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2RGNpZFFNb3ZmbG8xbllHbFRVY2I3emhLTzhaMmlIRU81MHR3ZEZCa29RIn0.eyJleHAiOjE2ODA1NDE4NDQsImlhdCI6MTY4MDU0MTc4NCwiYXV0aF90aW1lIjoxNjgwNTQxNzg0LCJqdGkiOiJkMWZlNjA4YS1hYTc4LTQ5OTAtYThjMy02MjQ1MjJlMjIzZDYiLCJpc3MiOiJodHRwczovLzdkM2MtMjA1LTE1NC0yNTUtMTQwLm5ncm9rLmlvL2F1dGgvcmVhbG1zL21hc3RlciIsImF1ZCI6ImI1Zjk4OTYzLWQ2N2MtNDJjZi1hZjU4LThhMzgzNDkyOWQ5MiIsInN1YiI6ImZiY2I3MDJmLTBlYzAtNGI1MC1hMjNlLTIwZTAzOWVjZTdhNCIsInR5cCI6IklEIiwiYXpwIjoiYjVmOTg5NjMtZDY3Yy00MmNmLWFmNTgtOGEzODM0OTI5ZDkyIiwic2Vzc2lvbl9zdGF0ZSI6ImMwMjc5MGY5LTFiMzAtNGY3NC1iNGFlLWIwMDViYTgyNDU1MyIsImF0X2hhc2giOiJoR0JuSTJTanlaUzVyMUw2Q3RpZDJnIiwiYWNyIjoiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjEiLCJlbWFpbCI6InVzZXIxQGV4YW1wbGUuY29tIiwiZ3JvdXAiOiJ1c2VycyJ9.XSxXRk50bz1piG49wq3AzfXyy8YGGBlCXOqf03vCNB_Pg2ZY8xGWjYJDXy17w79zyrpAzRBG7CtyHwI7pHrFZVriM4qQBFHJRh88UzFeMgY0O_GLxaOPQr9q-L2lKGJvi-Iozo97WOBmAOptPUsR4VqEsfvf5LAcwGCklnJRWP7HoGRap_hvxHrxC1nRZz-QL2855Y-JnFjGkAH4jL1vv31mmcud4fKUHFNX4MexFKaG-Oykcscup0S599zYUiUP00CCamkI2DYdYHWtay96HPzzQ81zwnTfx1tTLNlm_N22lm8QFgSoZCjepccv8Cdee4-FRpD_IswPmefWyzLgrQ; access_token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2RGNpZFFNb3ZmbG8xbllHbFRVY2I3emhLTzhaMmlIRU81MHR3ZEZCa29RIn0.eyJleHAiOjE2ODA1NDE4NDQsImlhdCI6MTY4MDU0MTc4NCwiYXV0aF90aW1lIjoxNjgwNTQxNzg0LCJqdGkiOiJlNDAyOWMwNy1jNjgxLTRlNjctYmE1ZC1iYmQwYzY4MjlmNTAiLCJpc3MiOiJodHRwczovLzdkM2MtMjA1LTE1NC0yNTUtMTQwLm5ncm9rLmlvL2F1dGgvcmVhbG1zL21hc3RlciIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJmYmNiNzAyZi0wZWMwLTRiNTAtYTIzZS0yMGUwMzllY2U3YTQiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJiNWY5ODk2My1kNjdjLTQyY2YtYWY1OC04YTM4MzQ5MjlkOTIiLCJzZXNzaW9uX3N0YXRlIjoiYzAyNzkwZjktMWIzMC00Zjc0LWI0YWUtYjAwNWJhODI0NTUzIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjEiLCJlbWFpbCI6InVzZXIxQGV4YW1wbGUuY29tIiwiZ3JvdXAiOiJ1c2VycyJ9.HV5TEA1PxP9MyvmvdnB2yX8vA0pRPr1Raf1y5Y5KuDdkCmPocq9-fAZzEnuwtRcwzeDE2WQUUf4D1domd_GTgYhrTDneVfp2z0uSNHIf5PVypwi19-btbxIsXY7cSmqOUYEtRHp4db1ner2Ycar0cowAvUxu2kciGXmXeMZA67jcnuwbqBcfkvsZMRIPTTpmnoOCefJnzzIgqm3Im7XB-uOmph1wWgZ7Bgp_tLjjjv0OUAwA15fGDSjK25sF5jX5AMgjyCOnIewopKmyu_YK_W4m0r2J5IAKHgSmAlOaAp4mkUv1vJYWhYF7qV6yW52kP1fggu7el_Qeqq_OD02i6w; refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjNzI2MWRiMy1mNmNlLTRhZWMtYmUzZC03ZmRlOWZmMjg0MDIifQ.eyJleHAiOjE2ODA1NDM1ODQsImlhdCI6MTY4MDU0MTc4NCwianRpIjoiODVkYmJmMzctYjNjMi00ODQ0LWJhNDMtNjA3MWEwM2QzMDIwIiwiaXNzIjoiaHR0cHM6Ly83ZDNjLTIwNS0xNTQtMjU1LTE0MC5uZ3Jvay5pby9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJodHRwczovLzdkM2MtMjA1LTE1NC0yNTUtMTQwLm5ncm9rLmlvL2F1dGgvcmVhbG1zL21hc3RlciIsInN1YiI6ImZiY2I3MDJmLTBlYzAtNGI1MC1hMjNlLTIwZTAzOWVjZTdhNCIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJiNWY5ODk2My1kNjdjLTQyY2YtYWY1OC04YTM4MzQ5MjlkOTIiLCJzZXNzaW9uX3N0YXRlIjoiYzAyNzkwZjktMWIzMC00Zjc0LWI0YWUtYjAwNWJhODI0NTUzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSJ9.Zj8YI3wt39oxHA36EpThcx8_MSS9PU48LwUpN-q1das; target_domain=localhost:31080

{}

###

GET http://localhost:8080/v1/api-keys?apis=cool-api&apis=uncool-api
Content-Type: application/json

{}